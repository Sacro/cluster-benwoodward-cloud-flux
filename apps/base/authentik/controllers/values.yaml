authentik:
    error_reporting:
        enabled: false
    postgresql:
        host: file:///postgres-creds/host
        name: file:///postgres-creds/dbname
        password: file:///postgres-creds/password
        port: file:///postgres-creds/port
        user: file:///postgres-creds/username
    secret_key: file:///secrets/secret-key

global:
    volumes:
        - name: authentik-secrets
          secret:
            secretName: authentik
        - name: postgres-creds
          secret:
            secretName: pg-cluster-app
        - name: redis-creds
          secret:
            secretName: redis
    volumeMounts:
        - name: postgres-creds
          mountPath: /postgres-creds
          readOnly: true
        - name: authentik-secrets
          mountPath: /secrets
          readOnly: true

prometheus:
    rules:
        enabled: true

redis:
  enabled: true

server:
    env:
        - name: TMPDIR
          value: /tmp
    ingress:
        enabled: true
        tls:
            - hosts:
                - auth.benwoodward.cloud
    metrics:
        serviceMonitor:
            enabled: true

worker:
    env:
        - name: TMPDIR
          value: /tmp
